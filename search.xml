<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo部署出现错误err：Error：Spawn failed解决方法</title>
    <url>/blog/2021/11/30/Hexo%E9%83%A8%E7%BD%B2%E5%87%BA%E7%8E%B0%E9%94%99%E8%AF%AFerr/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>Hexo部署过程中可能会出现错误</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: unable to access <span class="string">&#x27;&lt;http://github.com/mint-mints/blog.git/&gt;&#x27;</span>: OpenSSL SSL_read: Connection was reset, errno 10054 </span><br><span class="line">FATAL &#123;                                                                                                                  </span><br><span class="line">	err: Error: Spawn failed                                                                                                   </span><br><span class="line">		at ChildProcess.&lt;anonymous&gt; (E:\\Docs\\Blog\\blog\\node_modules\\hexo-util\\lib\\spawn.js:51:21)                              </span><br><span class="line">		at ChildProcess.emit (events.js:400:28)                                                                                </span><br><span class="line">		at ChildProcess.cp.emit (E:\\Docs\\Blog\\blog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29)                               </span><br><span class="line">		at Process.ChildProcess._handle.onexit (internal/child_process.js:277:12) &#123;                                          </span><br><span class="line">	code: 128                                                                                                            </span><br><span class="line">	&#125;                                                                                                                    </span><br><span class="line">&#125; Something<span class="string">&#x27;s wrong. Maybe you can find the solution here: %s &lt;https://hexo.io/docs/troubleshooting.html&gt;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>有可能是你的git repo配置地址不正确,可以将http方式变更为ssh方式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 修改</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: &lt;https://hexo.io/docs/one-command-deployment&gt;</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: &lt;https://github.com/mint-mints/blog.git&gt; =&gt; git@github.com:mint-mints/blog.git  <span class="comment">#你的仓库地址</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>然后重新生成页面并部署就可以</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Error Record</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux中Argument list too long解决方法</title>
    <url>/blog/2021/11/16/Linux%E4%B8%ADArgument-list-too-long%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>Linux下使用<code>cp，mv，rm</code>等命令时经常会碰到“Argument list too long”错误，这主要是因为这些命令的参数太长，即文件个数过多。</p>
<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><h3 id="解决方法1："><a href="#解决方法1：" class="headerlink" title="解决方法1："></a>解决方法1：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find <span class="built_in">test</span>/ -name <span class="string">&quot;*.jpg&quot;</span> | xargs -i cp &#123;&#125; train</span><br></pre></td></tr></table></figure>

<p><code>find test/ -name &quot;*.jpg&quot;</code>是指在<code>test</code>文件夹下查找名为<code>*.jpg</code>的文件。</p>
<p><code>xargs</code>命令是给其他命令传递参数的一个过滤器，也是组合多个命令的一个工具。<code>-i</code>会将<code>xargs</code>的内容赋值给<code>&#123;&#125;</code>。</p>
<h3 id="解决方法2："><a href="#解决方法2：" class="headerlink" title="解决方法2："></a>解决方法2：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find <span class="built_in">test</span>/ -name <span class="string">&quot;*.jpg&quot;</span> -<span class="built_in">exec</span> cp &#123;&#125; train \\;</span><br></pre></td></tr></table></figure>

<p><code>-exec</code>参数后面是指执行其后面的命令，<code>-exec</code>以<code>;</code>为结尾，由于各个系统中分号的意义不同，因此用<code>\\</code>进行转义，即<code>\\;</code>，<code>&#123;&#125;</code>会被<code>find</code>find命令的结果替换。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ImportError：libcublas.so.8.0：cannot open shared object file</title>
    <url>/blog/2021/11/19/ImportError%EF%BC%9Alibcublas.so.8.0_cannot_open_shared_object_file/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>报错如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ImportError: libcublas.so.8.0: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h1><p>tensorflow和已安装的cuda版本不匹配</p>
<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><h2 id="1-查看已安装cuda版本"><a href="#1-查看已安装cuda版本" class="headerlink" title="1. 查看已安装cuda版本"></a>1. 查看已安装cuda版本</h2><p>有三种方法可以查看：</p>
<p>（1）输入命令查看版本信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure>

<p>（2）输命令查看</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ll /usr/<span class="built_in">local</span>/cuda*</span><br></pre></td></tr></table></figure>

<p>（3）进入/usr/local/cuda文件夹下打开version.txt，查看版本信息。</p>
<h2 id="2-查看cuda和tensorflow的版本对应关系"><a href="#2-查看cuda和tensorflow的版本对应关系" class="headerlink" title="2. 查看cuda和tensorflow的版本对应关系"></a>2. 查看cuda和tensorflow的版本对应关系</h2><p>官网上有对应的说明：<a href="https://tensorflow.google.cn/install/source#linux">https://tensorflow.google.cn/install/source#linux</a></p>
<h2 id="3-安装并切换对应版本的cuda"><a href="#3-安装并切换对应版本的cuda" class="headerlink" title="3. 安装并切换对应版本的cuda"></a>3. 安装并切换对应版本的cuda</h2>]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>PyCharm使用tensorflow报错：libcublas.so.10.0：cannot open shared object file：No such file or directory</title>
    <url>/blog/2021/11/30/PyCharm%E4%BD%BF%E7%94%A8tensorflow%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>PyCharm使用tensorflow-gpu报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">libcublas.so.10.0: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>

<p>但是在PyCharm的Teminal中可以正常使用。</p>
<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>在Run/Debug Configurations中设置Environment，在Environment variables中加上以下环境变量：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">LD_LIBRARY_PATH=/usr/<span class="built_in">local</span>/cuda/lib64</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>Pycharm Run/Debug Configurations Script Parameters 设置路径程序不识别的问题解决</title>
    <url>/blog/2021/11/30/Pycharm%20RunDebug%20Configurations%20Script%20Parameters/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在Pycharm的Run/Debug Configurations中的Parameters里，设置了路径。但是运行时始终无法识别，相对路径和绝对路径都不行，都说没有该目录。</p>
<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>表示路径的字符串两端改为<strong>双引号！</strong></p>
<p>Parameters 里出现的文件的路径必须用双引号表示，否则程序无法识别路径。</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python命名规则</title>
    <url>/blog/2021/11/30/Python%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/</url>
    <content><![CDATA[<img src="/blog/2021/11/30/Python%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/1.png" class>

]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Tensorflow报错：OutOfRangeError：FIFOQueue &#39;_0_input_producer&#39; is closed and has insufficient elements</title>
    <url>/blog/2021/11/30/Tensorflow%E6%8A%A5%E9%94%99%EF%BC%9AOutOfRangeError/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>Tensorflow加载图片时报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">OutOfRangeError : FIFOQueue &#x27;_0_input_producer&#x27; is closed and has insufficient elements</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>因为局部变量（local variables）没有初始化，将初始化变量语句改为</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tf.global_variables_initializer().run(session=sess)  <span class="comment"># 全局变量初始化</span></span><br><span class="line">tf.local_variables_initializer().run(session=sess)   <span class="comment"># 局部变量初始化</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeError：&#39;module&#39; object is not callable 报错解决</title>
    <url>/blog/2021/11/30/TypeError%EF%BC%9A&#39;module&#39;%20object%20is%20not%20callable%20%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 定义</span></span><br><span class="line">class A:</span><br><span class="line">     <span class="comment">#constructor</span></span><br><span class="line">     def __init__(self):</span><br><span class="line">          xxx</span><br><span class="line">     def run(self):</span><br><span class="line">          <span class="built_in">return</span> something</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用</span></span><br><span class="line">&gt;&gt;&gt; import A</span><br><span class="line">&gt;&gt;&gt; a = A()</span><br><span class="line">&gt;&gt;&gt; a.run()</span><br><span class="line"><span class="comment"># 报错</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;..../main.py&quot;</span>, line 5, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    a = A()</span><br><span class="line">TypeError: <span class="string">&#x27;module&#x27;</span> object is not callable</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>Python导入模块的方法有两种：import module 和 from module import，区别是前者所有导入的东西使用时需加上模块名的限定，而后者不要。</p>
<p>正确的代码：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import A</span><br><span class="line">&gt;&gt;&gt; a = A.A()</span><br><span class="line">&gt;&gt;&gt; a.run()</span><br><span class="line">或</span><br><span class="line">&gt;&gt;&gt; from A import *</span><br><span class="line">&gt;&gt;&gt; a = A()</span><br><span class="line">&gt;&gt;&gt; a.run()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>conda list报错：TypeError：‘＜‘ not supported between instances of ‘str‘ and ‘NoneType‘</title>
    <url>/blog/2021/11/30/conda%20list%E6%8A%A5%E9%94%99%EF%BC%9ATypeError/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>安装mmcv之后,conda list就会报错:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/exceptions.py&quot;</span>, line 1062, <span class="keyword">in</span> __call__</span><br><span class="line">       <span class="built_in">return</span> func(*args, **kwargs)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/cli/main.py&quot;</span>, line 84, <span class="keyword">in</span> _main</span><br><span class="line">       exit_code = do_call(args, p)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/cli/conda_argparse.py&quot;</span>, line 82, <span class="keyword">in</span> do_call</span><br><span class="line">       exit_code = getattr(module, func_name)(args, parser)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/cli/main_list.py&quot;</span>, line 142, <span class="keyword">in</span> execute</span><br><span class="line">       show_channel_urls=context.show_channel_urls)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/cli/main_list.py&quot;</span>, line 80, <span class="keyword">in</span> print_packages</span><br><span class="line">       show_channel_urls=show_channel_urls)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/cli/main_list.py&quot;</span>, line 45, <span class="keyword">in</span> list_packages</span><br><span class="line">       installed = sorted(PrefixData(prefix, pip_interop_enabled=True).iter_records(),</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/core/prefix_data.py&quot;</span>, line 130, <span class="keyword">in</span> iter_records</span><br><span class="line">       <span class="built_in">return</span> itervalues(self._prefix_records)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/core/prefix_data.py&quot;</span>, line 159, <span class="keyword">in</span> _prefix_records</span><br><span class="line">       <span class="built_in">return</span> self.__prefix_records or self.load() or self.__prefix_records</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/common/io.py&quot;</span>, line 88, <span class="keyword">in</span> decorated</span><br><span class="line">       <span class="built_in">return</span> f(*args, **kwds)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/core/prefix_data.py&quot;</span>, line 72, <span class="keyword">in</span> load</span><br><span class="line">       self._load_site_packages()</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/core/prefix_data.py&quot;</span>, line 274, <span class="keyword">in</span> _load_site_packages</span><br><span class="line">       python_record = read_python_record(self.prefix_path, af, python_pkg_record.version)</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/gateways/disk/read.py&quot;</span>, line 257, <span class="keyword">in</span> read_python_record</span><br><span class="line">       paths_tups = pydist.get_paths()</span><br><span class="line">     File <span class="string">&quot;/home/nercms/anaconda3/lib/python3.7/site-packages/conda/common/pkg_formats/python.py&quot;</span>, line 268, <span class="keyword">in</span> get_paths</span><br><span class="line">       records = sorted(concatv(records, ((pf, None, None) <span class="keyword">for</span> pf <span class="keyword">in</span> missing_pyc_files)))</span><br><span class="line">   TypeError: <span class="string">&#x27;&lt;&#x27;</span> not supported between instances of <span class="string">&#x27;str&#x27;</span> and <span class="string">&#x27;NoneType&#x27;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>按照报错的路径去找，找最后一个报错的py文件: File “/home/nercms/anaconda3/lib/python3.7/site-packages/conda/common/pkg_formats/python.py”, line 268</p>
<p>找到第268行, 改成下图所示, 把报错的地方加了个异常处理：</p>
<img src="/blog/2021/11/30/conda%20list%E6%8A%A5%E9%94%99%EF%BC%9ATypeError/1.png" class>

<p>之后，conda list就可以正常使用了。</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>conda安装tensorflow报错：PackagesNotFoundError</title>
    <url>/blog/2021/11/16/conda%E5%AE%89%E8%A3%85tensorflow%E6%8A%A5%E9%94%99%EF%BC%9APackagesNotFoundError/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>conda安装tensorflow报错：PackagesNotFoundError: The following packages are not available from current channels。</p>
<span id="more"></span>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda install ‐‐channel https://conda.anaconda.org/anaconda tensorflow‐gpu=1.9.0</span><br><span class="line">Collecting package metadata (current_repodata.json): <span class="keyword">done</span></span><br><span class="line">Solving environment: failed with current_repodata.json, will retry with next repodata <span class="built_in">source</span>.</span><br><span class="line">Collecting package metadata (repodata.json): <span class="keyword">done</span></span><br><span class="line">Solving environment: failed</span><br><span class="line">PackagesNotFoundError: The following packages are not available from current channels:</span><br><span class="line"></span><br><span class="line">  - tensorflow‐gpu=1.1.0</span><br><span class="line">  - ‐‐channel</span><br><span class="line">  - //conda.anaconda.org/anaconda</span><br><span class="line"></span><br><span class="line">Current channels:</span><br><span class="line">  - https://repo.anaconda.com/pkgs/main/linux-64</span><br><span class="line">  - https://repo.anaconda.com/pkgs/main/noarch</span><br><span class="line">  - https://repo.anaconda.com/pkgs/r/linux-64</span><br><span class="line">  - https://repo.anaconda.com/pkgs/r/noarch</span><br><span class="line"></span><br><span class="line">To search <span class="keyword">for</span> alternate channels that may provide the conda package you<span class="string">&#x27;re looking for, navigate to   https://anaconda.org  and use the search bar at the top of the page.</span></span><br></pre></td></tr></table></figure>



<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>更换为pip安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install tensorflow-gpu==1.1.0</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>fatal error：numpy/arrayobject.h：No such file or directory compilation terminated.</title>
    <url>/blog/2021/11/30/error%EF%BC%9Anumpy-arrayobject-h/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>复现论文代码时报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fatal error: numpy/arrayobject.h: No such file or directory compilation terminated.</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>其实numpy已经是安装的，anaconda里面有，python中import numpy也没有问题，但就是在此处报错。</p>
<p>执行以下命令，就可以了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python-numpy</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>linux中cp：omitting directory `XXX&#39; 问题解决</title>
    <url>/blog/2021/11/19/linux%E4%B8%ADcp%EF%BC%9Aomitting_directory_%60XXX&#39;_%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在linux系统中复制文件夹时提示如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp: omitting directory `XXX<span class="string">&#x27; </span></span><br></pre></td></tr></table></figure>

<p>XXX是要复制的文件夹名，出现该警告的原因是因为XXX目录下<strong>还存在文件</strong>，所以不能直接拷贝。</p>
<span id="more"></span>

<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>解决办法：使用递归拷贝，在cp命令后面加上-r参数，如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp -r XXX <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<p>这里的 -r 代表递归的意思。</p>
<p>同样，当我们在linux系统下删除目录时也需要加上-r参数 ，如果目录为空，则会直接删除，如果目录非空，则会级联删除。</p>
<p>如删除XXX文件夹：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf XXX</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>pytorch警告（UserWarning）解决</title>
    <url>/blog/2021/11/30/pytorch%E8%AD%A6%E5%91%8A%EF%BC%88UserWarning%EF%BC%89%E8%A7%A3%E5%86%B3/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>pytorch训练时遇到了如下警告：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">UserWarning: Argument interpolation should be of <span class="built_in">type</span> InterpolationMode instead of int. Please, use InterpolationMode enum.</span><br><span class="line">  <span class="string">&quot;Argument interpolation should be of type InterpolationMode instead of int. &quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>网上说是因为torchvision和pillow不兼容导致的，我的设备里torchvision=0.9.0 and pillow=8.3.1。</p>
<p>我把pillow降到了6.2.2，依然有warning。</p>
<p>于是降低torchvision版本，但是torchvision的版本号一般都是和pytorch绑定好的，我们需要不依赖torch来更改torchvison的版本，这可以通过以下指令实现。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip3 install --no-deps torchvision==0.8.2</span><br></pre></td></tr></table></figure>

<p>pillow和torchvision都降版本之后，就不报警告了。</p>
<p>参考：<a href="https://blog.csdn.net/weixin_39518984/article/details/119897453">https://blog.csdn.net/weixin_39518984/article/details/119897453</a></p>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
        <tag>PyTorch</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu16.04切换cuda版本</title>
    <url>/blog/2021/11/30/ubuntu16.04%E5%88%87%E6%8D%A2cuda%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<h1 id="安装并切换为cuda8-0（5-1）"><a href="#安装并切换为cuda8-0（5-1）" class="headerlink" title="安装并切换为cuda8.0（5.1）"></a>安装并切换为cuda8.0（5.1）</h1><ol>
<li>实现多版本CUDA共存的第一步，就是要将先前添加到***.bashrc文件***里的环境变量路径全部指向cuda软链接，也就是环境变量的路径里所有cuda-x.0的名字都改成cuda，如下：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Tensorflow官方安装历程要求注意的是:配置PATH和LD_LIBRARY_PATH和CUDA_HOME环境变量.</span></span><br><span class="line"> </span><br><span class="line">sudo gedit ~/.bashrc <span class="comment">#修改配置文件（如果你用的是zsh，则需要修改 ~/.zshrc文件）</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#在文件结尾处添加或修改以前的路径</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/usr/<span class="built_in">local</span>/cuda/lib64</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/cuda/bin</span><br><span class="line"><span class="built_in">export</span> CUDA_HOME=<span class="variable">$CUDA_HOME</span>:/usr/<span class="built_in">local</span>/cuda修改后要使用sour</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<ol start="2">
<li><p>在官网下载cuda安装包：<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></p>
<p>注意下载runfile类型。此处下载CUDA Toolkit 8.0 GA2版本</p>
</li>
<li><p>安装</p>
<p>安装过程中需要注意，不要选择安装驱动且不要生成软链接</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo sh cuda_8.0.61_375.26_linux.run <span class="comment"># 开始安装</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># ..一堆协议说明...</span></span><br><span class="line"><span class="comment"># 直接按q退出协议说明.</span></span><br><span class="line">Important Notice</span><br><span class="line">Do you accept the previously <span class="built_in">read</span> EULA?</span><br><span class="line">accept/decline/quit: accept   <span class="comment"># 接受协议</span></span><br><span class="line"></span><br><span class="line">Install NVIDIA Accelerated Graphics Driver <span class="keyword">for</span> Linux-x86_64 375.26?</span><br><span class="line">(y)es/(n)o/(q)uit: n     <span class="comment"># 是否显卡驱动包，由于已经安装显卡驱动，选择n</span></span><br><span class="line"></span><br><span class="line">Install the CUDA 8.0 Toolkit?</span><br><span class="line">(y)es/(n)o/(q)uit: y     <span class="comment"># 是否安装工具包，选择y</span></span><br><span class="line"></span><br><span class="line">Enter Toolkit Location</span><br><span class="line"> [ default is /usr/<span class="built_in">local</span>/cuda-8.0 ]:   <span class="comment"># 工具包安装地址，默认回车即可</span></span><br><span class="line"></span><br><span class="line">Do you want to install a symbolic link at /usr/<span class="built_in">local</span>/cuda?</span><br><span class="line">(y)es/(n)o/(q)uit: n     <span class="comment"># 不添加链接**注意这个连接，如果你之前安装过另一个版本的cuda，除非你确定想要用这个新版本的cuda，否则这里就建议选no，因为指定该链接后会将cuda指向这个新的版本**</span></span><br><span class="line"></span><br><span class="line">Install the CUDA 8.0 Samples?</span><br><span class="line">(y)es/(n)o/(q)uit: y     <span class="comment"># 安装样例</span></span><br><span class="line"></span><br><span class="line">Enter CUDA Samples Location</span><br><span class="line"> [ default is /home/nercms ]:   <span class="comment"># 样例安装地址默认即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ***安装信息***</span></span><br><span class="line">Installing the CUDA Toolkit <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0 ...</span><br><span class="line">Installing the CUDA Samples <span class="keyword">in</span> /home/nercms ...</span><br><span class="line">Copying samples to /home/nercms/NVIDIA_CUDA-8.0_Samples now...</span><br><span class="line">Finished copying samples.</span><br><span class="line"></span><br><span class="line">===========</span><br><span class="line">= Summary =</span><br><span class="line">===========</span><br><span class="line"></span><br><span class="line">Driver:   Not Selected</span><br><span class="line">Toolkit:  Installed <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0</span><br><span class="line">Samples:  Installed <span class="keyword">in</span> /home/nercms</span><br><span class="line"></span><br><span class="line">Please make sure that</span><br><span class="line"> -   PATH includes /usr/<span class="built_in">local</span>/cuda-8.0/bin</span><br><span class="line"> -   LD_LIBRARY_PATH includes /usr/<span class="built_in">local</span>/cuda-8.0/lib64, or, add /usr/<span class="built_in">local</span>/cuda-8.0/lib64 to /etc/ld.so.conf and run ldconfig as root</span><br><span class="line"></span><br><span class="line">To uninstall the CUDA Toolkit, run the uninstall script <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0/bin</span><br><span class="line"></span><br><span class="line">Please see CUDA_Installation_Guide_Linux.pdf <span class="keyword">in</span> /usr/<span class="built_in">local</span>/cuda-8.0/doc/pdf <span class="keyword">for</span> detailed information on setting up CUDA.</span><br><span class="line"></span><br><span class="line">***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 361.00 is required <span class="keyword">for</span> CUDA 8.0 functionality to work.</span><br><span class="line">To install the driver using this installer, run the following <span class="built_in">command</span>, replacing &lt;CudaInstaller&gt; with the name of this run file:</span><br><span class="line">    sudo &lt;CudaInstaller&gt;.run -silent -driver</span><br><span class="line"></span><br><span class="line">Logfile is /tmp/cuda_install_26035.log</span><br><span class="line"><span class="comment"># ***安装完成***1</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>切换cuda版本</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo rm -rf /usr/<span class="built_in">local</span>/cuda  <span class="comment">#删除之前生成的软链接</span></span><br><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/cuda-8.0 /usr/<span class="built_in">local</span>/cuda <span class="comment">#生成新的软链接</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>cuDNN安装</p>
<p>在官网下载cuDNN5.1：<a href="https://developer.nvidia.com/rdp/cudnn-archive%E3%80%82%E6%B3%A8%E6%84%8F%E4%B8%8B%E8%BD%BDcuda%E7%89%88%E6%9C%AC%E5%AF%B9%E5%BA%94%E7%9A%84%E5%8C%85%E3%80%82">https://developer.nvidia.com/rdp/cudnn-archive。注意下载cuda版本对应的包。</a></p>
<p>下载完成后，进入相应的目录，解压文件。</p>
<p>然后将库文件和头文件copy到cuda目录。<strong>注意sudo cp的时候写到真实的cuda-8.0这样的路径下，不要写到cuda软链接路径，这样不影响版本对应。</strong></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cp cuda/include/cudnn.h /usr/<span class="built_in">local</span>/cuda-8.0/include</span><br><span class="line">sudo cp cuda/lib64/libcudnn* /usr/<span class="built_in">local</span>/cuda-8.0/lib64</span><br><span class="line">sudo chmod a+r /usr/<span class="built_in">local</span>/cuda-8.0/include/cudnn.h /usr/<span class="built_in">local</span>/cuda-8.0/lib64/libcudnn*</span><br></pre></td></tr></table></figure>

<p>完成之后即可看到nvcc -V输出的cuda版本已经变成了10.0。再想切回cuda-9.0只需要再用上述指令给9.0的路径生成新的同名软链接即可。</p>
<p>PS：由于改变了cuda版本，原先安装的某些包可能出现不兼容，需要卸载重装。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu16.04安装matlab2021.a</title>
    <url>/blog/2021/11/30/ubuntu16-04%E5%AE%89%E8%A3%85matlab2021-a/</url>
    <content><![CDATA[<h1 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h1><p>使用R2021a_Linux.iso虚拟光驱进行安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mkdir/media/matlab  <span class="comment"># 建立一个挂在目录</span></span><br><span class="line">sudo mount -o loop R2021a_Linux.iso  /media/matlab   <span class="comment"># 可以在/media/matlab中看到文件了</span></span><br></pre></td></tr></table></figure>

<p>进入挂载目录后安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ./insall</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="产品选择"><a href="#产品选择" class="headerlink" title="产品选择"></a>产品选择</h1><p>毕竟MATLAB太大了，可以针对自己的专业来选择下载产品组件。</p>
<p>matlab官网提供了这些组件的解释： <a href="https://ww2.mathworks.cn/help/releases/R2019b/index.html">https://ww2.mathworks.cn/help/releases/R2019b/index.html</a> ，可以按需选择。</p>
<h1 id="快捷图标创建"><a href="#快捷图标创建" class="headerlink" title="快捷图标创建"></a>快捷图标创建</h1><p>输入命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo gedit /usr/share/applications/matlab.desktop   <span class="comment"># 新建一个名为matlab.desktop的文件。</span></span><br></pre></td></tr></table></figure>

<p>输入以下内容：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Type=Application</span><br><span class="line">Name=Matlab</span><br><span class="line">GenericName=Matlab 2010b</span><br><span class="line">Comment=Matlab:The Language of Technical Computing</span><br><span class="line">Exec=sh /usr/<span class="built_in">local</span>/MATLAB/R2021a/bin/matlab -desktop</span><br><span class="line">Icon=/usr/<span class="built_in">local</span>/MATLAB/R2021a/toolbox/nnet/nnresource/icons/matlab.png</span><br><span class="line">StartupNotify=<span class="literal">true</span></span><br><span class="line">Terminal=<span class="literal">false</span>     <span class="comment"># 在启动matlab时不启动终端</span></span><br><span class="line">Categories=Application;</span><br></pre></td></tr></table></figure>

<p>其中Exec和Icon的路径需要根据自己的安装位置更改。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu切换cuda版本但nvcc显示不正确的解决办法</title>
    <url>/blog/2021/11/19/ubuntu%E5%88%87%E6%8D%A2cuda%E7%89%88%E6%9C%AC%E4%BD%86nvcc%E6%98%BE%E7%A4%BA%E4%B8%8D%E6%AD%A3%E7%A1%AE%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/</url>
    <content><![CDATA[<ol>
<li>在~/.bashrc 中修改好如下内容：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/usr/local/cuda/bin&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$LD_LIBRARY_PATH</span>:/usr/local/cuda/lib64&quot;</span></span><br><span class="line"><span class="built_in">export</span> LIBRARY_PATH=<span class="string">&quot;<span class="variable">$LIBRARY_PATH</span>:/usr/local/cuda/lib64</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>并且完成软链接切换</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rm -rf /usr/<span class="built_in">local</span>/cuda      <span class="comment">#删除之前创建的软链接</span></span><br><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/cuda-8.0 /usr/<span class="built_in">local</span>/cuda</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>加载更新后的配置</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo -s</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>注：此处直接使用source后，未成功更新。若使用sudo source ~/.bashrc会报错：sudo: source: command not found</p>
<ol start="3">
<li><p>使用nvcc -V查看版本，仍不起效</p>
<p>使用which nvcc，出现 /usr/local/cuda-9.0/bin/nvcc</p>
</li>
<li><p>果断在.bashrc中增加nvcc的环境目录</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/usr/local/cuda/bin/nvcc&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>再次source更新，搞定！</li>
</ol>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Linux</tag>
        <tag>DeepLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>更换cuda版本后Pychram中的terminal依旧显示旧版本问题</title>
    <url>/blog/2021/11/19/%E6%9B%B4%E6%8D%A2cuda%E7%89%88%E6%9C%AC%E5%90%8EPychram%E4%B8%AD%E7%9A%84terminal%E4%BE%9D%E6%97%A7%E6%98%BE%E7%A4%BA%E6%97%A7%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>更换cuda8.0版本，在系统的terminal中显示正常，输入nvcc -V后输出正常：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nvcc -V</span><br><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2016 NVIDIA Corporation</span><br><span class="line">Built on Tue_Jan_10_13:22:03_CST_2017</span><br><span class="line">Cuda compilation tools, release 8.0, V8.0.61</span><br></pre></td></tr></table></figure>

<p>但是在pycharm的terminal中的输出还是旧版本9.0。</p>
<span id="more"></span>

<h1 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h1><img src="/blog/2021/11/19/%E6%9B%B4%E6%8D%A2cuda%E7%89%88%E6%9C%AC%E5%90%8EPychram%E4%B8%AD%E7%9A%84terminal%E4%BE%9D%E6%97%A7%E6%98%BE%E7%A4%BA%E6%97%A7%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/1.png" class title="pycharm config">

<p>查看pycharm的设置，Terminal的设置中环境变量的属性。</p>
<p>发现系统环境变量中的PATH中，包含/usr/local/cuda-9.0/bin</p>
<p>可是在更换cuda版本时，已经将.bashrc中的cuda-9.0全部改为cuda，且在系统的Terminal中测试成功。</p>
<p>最后找到了是在/etc/profile中，有以下两句（哦，要命）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span>  PATH=/usr/<span class="built_in">local</span>/cuda-9.0/bin:<span class="variable">$PATH</span>　　　　</span><br><span class="line"><span class="built_in">export</span>  LD_LIBRARY_PATH=/usr/<span class="built_in">local</span>/cuda-9.0/lib64<span class="variable">$LD_LIBRARY_PATH</span></span><br></pre></td></tr></table></figure>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>将/etc/profile中配置环境变量的两句直接删除了。</p>
<p>但是重新source更新时，报错：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">X Error of failed request: BadName (named color or font does not exist)</span><br><span class="line">Major opcode of failed request: 140 (RANDR)</span><br><span class="line">Minor opcode of failed request: 16 (RRCreateMode)</span><br><span class="line">Serial number of failed request: 35</span><br><span class="line">Current serial number <span class="keyword">in</span> output stream: 35</span><br></pre></td></tr></table></figure>

<p>原因是/etc/profile中包含设置分辨率的两个语句</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo xrandr --newmode <span class="string">&quot;1920x1080_60.00&quot;</span> 173.00 1920 2048 2248 2576 1080 1083 1088 1120 -hsync +vsync</span><br><span class="line">sudo xrandr --addmode VGA-1 <span class="string">&quot;1920x1080_60.00&quot;</span></span><br></pre></td></tr></table></figure>

<p>在开机时就加载过两个语句，现在重新加载就重名了。</p>
<p>于是选择了重启 ⇒ 成功！</p>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>pip安装时报错：CANNOT UNINSTALL &#39;CERTIFI&#39;. IT IS A DISTUTILS INSTALLED PROJECT</title>
    <url>/blog/2021/11/30/pip%E5%AE%89%E8%A3%85%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9ACANNOT%20UNINSTALL%20&#39;CERTIFI&#39;/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>使用pip进行安装时报错：</p>
<img src="/blog/2021/11/30/pip%E5%AE%89%E8%A3%85%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9ACANNOT%20UNINSTALL%20'CERTIFI'/1.png" class>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cannot uninstall &#x27;certifi&#x27;. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><img src="/blog/2021/11/30/pip%E5%AE%89%E8%A3%85%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9ACANNOT%20UNINSTALL%20'CERTIFI'/2.png" class>

<p>修改pip版本后重新安装，安装成功。</p>
<p>但是会给出警告：</p>
<img src="/blog/2021/11/30/pip%E5%AE%89%E8%A3%85%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9ACANNOT%20UNINSTALL%20'CERTIFI'/3.png" class>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>调用TensorFlow时出现FutureWarning：Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecate</title>
    <url>/blog/2021/11/30/%E8%B0%83%E7%94%A8TensorFlow%E6%97%B6%E5%87%BA%E7%8E%B0FutureWarning/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>import tensorflow总是出现报错：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FutureWarning: Passing (type, 1) or &#x27;1type&#x27; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#x27;(1,)type&#x27;._np_quint8 = np.dtype([(&quot;quint8&quot;, np.uint8, 1)])</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>是numpy版本的问题，numpy降级就可以了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip show numpy                   <span class="comment"># 查看当前numpy版本</span></span><br><span class="line">pip install numpy==1.16.0        <span class="comment"># 安装旧版本，会自动卸载当前版本</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>Error Record</tag>
        <tag>DeepLearning</tag>
        <tag>TensorFlow</tag>
      </tags>
  </entry>
  <entry>
    <title>给数据集的图片打标注框（任意多边形）</title>
    <url>/blog/2021/11/30/%E7%BB%99%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%9B%BE%E7%89%87%E6%89%93%E6%A0%87%E6%B3%A8%E6%A1%86%EF%BC%88%E4%BB%BB%E6%84%8F%E5%A4%9A%E8%BE%B9%E5%BD%A2%EF%BC%89/</url>
    <content><![CDATA[<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deal_txt_pt</span>(<span class="params">path_txt</span>):</span></span><br><span class="line">    lll_pt = []</span><br><span class="line">    list_class = []</span><br><span class="line">    <span class="comment"># read the label file</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path_txt, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file_label:</span><br><span class="line">        lines = (line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> file_label)</span><br><span class="line">        <span class="comment"># remove blank lines</span></span><br><span class="line">        lines = <span class="built_in">list</span>(line <span class="keyword">for</span> line <span class="keyword">in</span> lines <span class="keyword">if</span> line)</span><br><span class="line">        <span class="comment"># delete the first two lines</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;imagesource&quot;</span> <span class="keyword">in</span> lines[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">del</span> lines[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;gsd&quot;</span> <span class="keyword">in</span> lines[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">del</span> lines[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># each line contains a label box</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            <span class="comment"># ll_pt is used to store one label box</span></span><br><span class="line">            ll_pt = []</span><br><span class="line">            <span class="comment"># l_pt is used to store one point</span></span><br><span class="line">            l_pt = []</span><br><span class="line">            line = line.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># get the class name</span></span><br><span class="line">            name_class = line[<span class="number">8</span>]</span><br><span class="line">            name_class = name_class.split(<span class="string">&#x27;-&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">for</span> cnt, num <span class="keyword">in</span> <span class="built_in">enumerate</span>(line):</span><br><span class="line">                <span class="keyword">if</span> cnt &gt; <span class="number">7</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                num = <span class="built_in">float</span>(num)</span><br><span class="line">                l_pt.append(num)</span><br><span class="line">                <span class="keyword">if</span> <span class="number">2</span> == <span class="built_in">len</span>(l_pt):</span><br><span class="line">                    ll_pt.append(l_pt)</span><br><span class="line">                    l_pt = []</span><br><span class="line"></span><br><span class="line">            <span class="comment"># add one label box</span></span><br><span class="line">            lll_pt.append(ll_pt)</span><br><span class="line">            list_class.append(name_class)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> lll_pt, list_class</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_img_labels</span>(<span class="params">dir_path</span>):</span></span><br><span class="line">    <span class="comment"># get the paths of all files in the directory</span></span><br><span class="line">    file_images = os.listdir(dir_path + <span class="string">&quot;/images&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> file_img <span class="keyword">in</span> file_images:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;processing &quot;</span> + file_img)</span><br><span class="line">        <span class="comment"># load the image</span></span><br><span class="line">        img = cv2.imread(dir_path + <span class="string">&quot;/images/&quot;</span> + file_img)</span><br><span class="line">        save_path = dir_path + <span class="string">&quot;/images_with_label/&quot;</span>+ file_img</span><br><span class="line">        <span class="comment"># get the name of image</span></span><br><span class="line">        name_img = file_img.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># get the labels</span></span><br><span class="line">        lll_pt, list_class = deal_txt_pt(dir_path + <span class="string">&quot;/labelTxt/&quot;</span> + name_img + <span class="string">&quot;.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> cnt, ll_pt <span class="keyword">in</span> <span class="built_in">enumerate</span>(lll_pt):</span><br><span class="line">            pts = np.array(ll_pt, np.int32)</span><br><span class="line">            pts = pts.reshape((-<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line">            cv2.polylines(img, [pts], <span class="number">1</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">            pt_text = np.array(ll_pt[<span class="number">0</span>], np.int32)</span><br><span class="line">            cv2.putText(img, list_class[cnt], pt_text, cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.5</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># cv2.imshow(&quot;IMG&quot;, img)</span></span><br><span class="line">        <span class="comment"># cv2.waitKey(0)</span></span><br><span class="line">        cv2.imwrite(save_path, img)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    show_img_labels(<span class="string">&quot;../DOTA_origin/train&quot;</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo常用命令</title>
    <url>/blog/2021/12/01/hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">npm install hexo -g <span class="comment">#安装Hexo</span></span><br><span class="line">npm update hexo -g <span class="comment">#升级</span></span><br><span class="line">hexo init <span class="comment">#初始化博客</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>命令简写：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n <span class="string">&quot;我的博客&quot;</span> == hexo new <span class="string">&quot;我的博客&quot;</span> <span class="comment">#新建文章</span></span><br><span class="line">hexo g == hexo generate <span class="comment">#生成网页</span></span><br><span class="line">hexo s == hexo server <span class="comment">#启动服务预览，本地预览</span></span><br><span class="line">hexo d == hexo deploy <span class="comment">#部署</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server <span class="comment">#Hexo会监视文件变动并自动更新，无须重启服务器</span></span><br><span class="line">hexo server -s <span class="comment">#静态模式</span></span><br><span class="line">hexo server -p 5000 <span class="comment">#更改端口</span></span><br><span class="line">hexo server -i 192.168.1.1 <span class="comment">#自定义 IP</span></span><br><span class="line">hexo clean <span class="comment">#清除缓存，若是网页正常情况下可以忽略这条命令</span></span><br></pre></td></tr></table></figure>

<h2 id="发布网站"><a href="#发布网站" class="headerlink" title="发布网站"></a>发布网站</h2><ul>
<li>在blog根目录里的_config.yml文件称为<strong>站点</strong>配置文件。</li>
<li>进入根目录里的themes文件夹，里面也有个_config.yml文件，这个称为<strong>主题</strong>配置文件。</li>
</ul>
<p>打开<strong>站点的配置文件_config.yml</strong>，翻到最后修改为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">	type: git</span><br><span class="line">	repo: 这里填入你之前在GitHub上创建仓库的完整路径，记得加上.git</span><br><span class="line">	branch: master</span><br></pre></td></tr></table></figure>

<p>保存站点配置文件。</p>
<p>其实就是给<strong>hexo d</strong> 这个命令做相应的配置，让hexo知道你要把blog部署在哪个位置，很显然，我们部署在我们GitHub的仓库里。</p>
<p>最后安装Git部署插件，输入命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>这时，我们分别输入三条命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean </span><br><span class="line">hexo g </span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<p>其实第三条的 hexo d 就是部署网站命令，d是deploy的缩写。完成后，打开浏览器，在地址栏输入你的放置个人网站的仓库路径，即 <a href="https://link.zhihu.com/?target=http://xxxx.github.io">http://xxxx.github.io</a> 就会发现你的博客已经上线了，可以在网络上被访问了。</p>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>搭建个人博客</title>
    <url>/blog/2021/12/01/%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h1 id="搭建个人博客"><a href="#搭建个人博客" class="headerlink" title="搭建个人博客"></a>搭建个人博客</h1><h2 id="博客搭建"><a href="#博客搭建" class="headerlink" title="博客搭建"></a>博客搭建</h2><blockquote>
<p>在github上搭建个人博客</p>
</blockquote>
<ol>
<li><p>新建一个库，库名称为：<code>用户名.github.io</code>。</p>
</li>
<li><p>settings里找到GitHub pages设置页面。</p>
<p>选择Source分支及主题。</p>
</li>
<li><p>正常情况下已经可以在<code>用户名.github.io</code>上访问博客页面了。</p>
<ul>
<li><p>若仓库名不是<code>用户名.github.io</code>，则github pages对应的网址为：<code>用户名.github.io/仓库名</code></p>
<p>如仓库名为<code>blog</code>，则网址为<code>用户名.github.io/blog</code></p>
</li>
</ul>
</li>
</ol>
<span id="more"></span>

<h2 id="页面优化"><a href="#页面优化" class="headerlink" title="页面优化"></a>页面优化</h2><h3 id="HomePage主题"><a href="#HomePage主题" class="headerlink" title="HomePage主题"></a>HomePage主题</h3><blockquote>
<p>使用了Tomotoes-HomePage <a href="https://github.com/Tomotoes/HomePage">https://github.com/Tomotoes/HomePage</a></p>
</blockquote>
<h4 id="博客搭建-1"><a href="#博客搭建-1" class="headerlink" title="博客搭建"></a>博客搭建</h4><ol>
<li><p>环境要求</p>
<ul>
<li>Nodejs 6.0以上</li>
<li>Git</li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="comment">//github.com/Tomotoes/HomePage.git</span></span><br><span class="line">cd HomePage</span><br><span class="line">npm install     <span class="comment">//将package.json中的依赖装到node_modules</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure></li>
<li><p>部署</p>
<p>在根目录下执行<code>npm run build</code> 后，会将项目文件生成到 <code>dist</code> 目录。</p>
<p>然后，你可以将<code>dist</code>目录部署到你喜欢的服务器托管商。</p>
<p>下面以<code>GithubPage</code> 举例：</p>
<p>1）新建<code>用户名.github.io</code>仓库，并设置好<code>GithubPage</code>选项</p>
<p>2）将<code>dist</code>目录部署到<code>GithubPage</code>上</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd dist</span><br><span class="line">git init </span><br><span class="line">git add -A</span><br><span class="line">git commit -am&quot;init&quot;</span><br><span class="line">git remote add origin https://github.com/用户名/用户名.github.io.git</span><br><span class="line">git push -f origin master</span><br></pre></td></tr></table></figure>

<p>3）访问<code>用户名.github.io</code>就可以浏览了</p>
</li>
</ol>
<ul>
<li><p>报错处理</p>
<ol>
<li><p>npm install报错</p>
<p>Python版本换成2.7之后解决。</p>
</li>
<li><p>npm install安装报错</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Downloading binary from https:<span class="comment">//github.com/sass/node-sass/releases/download/v4.14.1/win32-x64-64_binding.node</span></span><br><span class="line">Cannot download <span class="string">&quot;https://github.com/sass/node-sass/releases/download/v4.14.1/win32-x64-64_binding.node&quot;</span>:</span><br><span class="line"></span><br><span class="line">read ECONNRESET</span><br><span class="line"></span><br><span class="line">Hint: If github.com is <span class="keyword">not</span> accessible in your location</span><br><span class="line">      <span class="keyword">try</span> setting a proxy via HTTP_PROXY, e.g.</span><br><span class="line"></span><br><span class="line">      <span class="keyword">export</span> HTTP_PROXY=http:<span class="comment">//example.com:1234</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">or</span> configure npm proxy via</span><br><span class="line"></span><br><span class="line">      npm config <span class="built_in">set</span> proxy http:<span class="comment">//example.com:8080</span></span><br><span class="line"></span><br><span class="line">&gt; node-sass@<span class="number">4.14</span><span class="number">.1</span> postinstall E:\Blog\HomePage\node_modules\node-sass</span><br><span class="line">&gt; node scripts/build.js</span><br><span class="line"></span><br><span class="line">Building: F:\nodejs\node.exe E:\Blog\HomePage\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext= --libsass_cflags= --libsass_ldflags= --libsass_library=</span><br><span class="line">gyp info it worked <span class="keyword">if</span> it ends with ok</span><br><span class="line">...</span><br><span class="line">gyp ERR! configure error</span><br><span class="line">gyp ERR! <span class="built_in">stack</span> Error: read ECONNRESET</span><br><span class="line">gyp ERR! <span class="built_in">stack</span>     at TLSWrap.onStreamRead (internal/stream_base_commons.js:<span class="number">111</span>:<span class="number">27</span>)</span><br><span class="line">gyp ERR! System Windows_NT <span class="number">10.0</span><span class="number">.18363</span></span><br><span class="line">gyp ERR! command <span class="string">&quot;F:\\nodejs\\node.exe&quot;</span> <span class="string">&quot;E:\\Blog\\HomePage\\node_modules\\node-gyp\\bin\\node-gyp.js&quot;</span> <span class="string">&quot;rebuild&quot;</span> <span class="string">&quot;--verbose&quot;</span> <span class="string">&quot;--libsass_ext=&quot;</span> <span class="string">&quot;--libsass_cflags=&quot;</span> <span class="string">&quot;--libsass_ldflags=&quot;</span> <span class="string">&quot;--libsass_library=&quot;</span></span><br><span class="line">gyp ERR! cwd E:\Blog\HomePage\node_modules\node-sass</span><br><span class="line">gyp ERR! node -v v10<span class="number">.12</span><span class="number">.0</span></span><br><span class="line">gyp ERR! node-gyp -v v3<span class="number">.8</span><span class="number">.0</span></span><br><span class="line">gyp ERR! <span class="keyword">not</span> ok</span><br><span class="line">Build failed with error code: <span class="number">1</span></span><br><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^<span class="number">1.2</span><span class="number">.7</span> (node_modules\chokidar\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform <span class="keyword">for</span> fsevents@<span class="number">1.2</span><span class="number">.13</span>: wanted &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;darwin&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;any&quot;</span>&#125; (current: &#123;<span class="string">&quot;os&quot;</span>:<span class="string">&quot;win32&quot;</span>,<span class="string">&quot;arch&quot;</span>:<span class="string">&quot;x64&quot;</span>&#125;)</span><br><span class="line">npm WARN tomotoes-home-page@<span class="number">1.0</span><span class="number">.0</span> license should be a valid SPDX license expression</span><br><span class="line"></span><br><span class="line">npm ERR! code ELIFECYCLE</span><br><span class="line">npm ERR! errno <span class="number">1</span></span><br><span class="line">npm ERR! node-sass@<span class="number">4.14</span><span class="number">.1</span> postinstall: `node scripts/build.js`</span><br><span class="line">npm ERR! Exit status <span class="number">1</span></span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the node-sass@<span class="number">4.14</span><span class="number">.1</span> postinstall script.</span><br><span class="line">npm ERR! This is probably <span class="keyword">not</span> a problem with npm. There is likely additional logging output above.</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/sass/node-sass/releases/download/v4.14.1/win32-x64-64_binding.node%E4%B8%8B%E8%BD%BD%E5%A4%B1%E8%B4%A5%EF%BC%8C%E6%89%8B%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%90%8E%E6%94%BE%E5%88%B0**&quot;node_modules&quot;%E6%96%87%E4%BB%B6%E5%A4%B9**%E4%B8%AD%EF%BC%8C%E6%96%B0%E5%BB%BA%E7%9A%84&quot;node-sass&quot;%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%EF%BC%8C%E9%87%8D%E6%96%B0%E6%89%A7%E8%A1%8C%60npm">https://github.com/sass/node-sass/releases/download/v4.14.1/win32-x64-64_binding.node下载失败，手动下载后放到**&quot;node_modules&quot;文件夹**中，新建的&quot;node-sass&quot;文件夹下，重新执行`npm</a> install`，执行成功</p>
<ol start="3">
<li>git push报错</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">E:\Blog\HomePage\dist&gt;git push -f origin master</span><br><span class="line">fatal: unable to access &#x27;https://github.com/mint-mints/mint-mints.github.io.git/&#x27;: OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="博客配置"><a href="#博客配置" class="headerlink" title="博客配置"></a>博客配置</h4><blockquote>
<p>根据项目特点,一共分为两大类 ：</p>
<ol>
<li><code>intro</code> 首屏</li>
<li><code>main</code> 副屏</li>
</ol>
<p>相应的函数，样式，配置也是根据此标准来的。</p>
</blockquote>
<ol>
<li><p>基本配置</p>
<ul>
<li><p>配置文件 <code>config.json</code> 中的每一项键名 , 都与相应的组件名所对应。</p>
<p>比如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;head&quot;: &#123;</span><br><span class="line">		&quot;title&quot;: &quot;一个坏掉的番茄&quot;,</span><br><span class="line">		&quot;description&quot;: &quot;Author:SimonMa,Category:Personal Blog&quot;,</span><br><span class="line">		&quot;favicon&quot;: &quot;favicon.ico&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的配置信息就对应着下面 <code>layout/head.pug</code> 组件中的信息。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">head</span><br><span class="line">	title #&#123;head.title&#125;</span><br><span class="line">	meta(charset=&quot;utf-8&quot;)</span><br><span class="line">	meta(name=&quot;Description&quot; content=`$&#123;head.description&#125;`)</span><br><span class="line">	link(rel=&quot;icon&quot; href=`$&#123;head.favicon&#125;` type=&quot;image/x-icon&quot;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>高级配置</p>
<h6 id="1）WebGL-Fluid-Simulation"><a href="#1）WebGL-Fluid-Simulation" class="headerlink" title="1）WebGL-Fluid-Simulation"></a>1）WebGL-Fluid-Simulation</h6><p>首页使用<a href="https://github.com/PavelDoGreat/WebGL-Fluid-Simulation/">WebGL-Fluid-Simulation</a>作为背景。</p>
<p>如需关闭，请设置<code>intro.background: false</code>。</p>
<h6 id="2）supportAuthor"><a href="#2）supportAuthor" class="headerlink" title="2）supportAuthor"></a>2）supportAuthor</h6><p>配置信息默认开启了 <code>supportAuthor</code> 选项，即支持作者。</p>
<p>所有的支持项如下：</p>
<ol>
<li>会在首页右上角显示 <code>章鱼猫</code></li>
<li>控制台会打印作者的站点信息</li>
</ol>
<p>如需关闭，请设置<code>intro.supportAuthor: false</code>。</p>
<h6 id="3）图标的替换"><a href="#3）图标的替换" class="headerlink" title="3）图标的替换"></a>3）图标的替换</h6><p>项目中的图标，全部来自 <a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a></p>
<p>替换步骤如下:</p>
<ol>
<li>请选择好你的图标，添加到项目后，把颜色全部调成白色。</li>
<li>点击 Font Class 方式</li>
<li>复制生成的链接中的内容</li>
<li>替换 文件 <code>css/common/icon.scss</code> 中的内容 ，其中 <code>icon</code> 选择器中的内容必须保留。</li>
<li>配置 <code>config.json</code> 文件中的相应项 <code>main.ul.*.icon</code></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.icon &#123;</span><br><span class="line">	display: block;</span><br><span class="line">	width: 1.5em;</span><br><span class="line">	height: 1.5em;</span><br><span class="line">	margin: 0 auto;</span><br><span class="line">	fill: currentColor;</span><br><span class="line">	font-family: &#x27;iconfont&#x27; !important;</span><br><span class="line">	font-size: inherit;</span><br><span class="line">	font-style: normal;</span><br><span class="line">	-webkit-font-smoothing: antialiased;</span><br><span class="line">	-moz-osx-font-smoothing: grayscale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="blog页面主题"><a href="#blog页面主题" class="headerlink" title="blog页面主题"></a>blog页面主题</h3><blockquote>
<p>使用了next主题：<a href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a> </p>
</blockquote>
<h4 id="解决hexo文章图片无法显示"><a href="#解决hexo文章图片无法显示" class="headerlink" title="解决hexo文章图片无法显示"></a>解决hexo文章图片无法显示</h4><ol>
<li><p>在根目录下配置文件<code>_config.yml</code> 中有 <code>post_asset_folder:false</code>改为<code>true</code>。这样在建立文件时，<code>Hexo</code>会自动建立一个与文章同名的文件夹。</p>
<p>将该文章中使用的图片放到该文件夹下面。如这里放了一张test.jpg的图片。</p>
</li>
<li><p>git bash安装插件：（这是个修改过的插件，经测试无问题）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install https://github.com/7ym0n/hexo-asset-image --save</span><br></pre></td></tr></table></figure>

<p>使用这个插件来引入图片，而不是用传统md语法相对路径的方法。</p>
</li>
<li><p>插入图片时用这种方式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img test.jpg This is an test image %&#125;</span><br></pre></td></tr></table></figure>

<p>其中test.jpg就是要引用的图片，后面的This is an test image是图片描述，可以自己修改。</p>
</li>
</ol>
<h4 id="顶栏背景图片设置-Muse主题"><a href="#顶栏背景图片设置-Muse主题" class="headerlink" title="顶栏背景图片设置(Muse主题)"></a>顶栏背景图片设置(Muse主题)</h4><ol>
<li><p>选择一张心仪的图片，命名为 background.jpg，放到 next的source 文件夹下的 image 文件夹内。</p>
<p>（图片的大小可能需要根据效果调整一下）</p>
</li>
<li><p>找到下述位置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo\themes\next\source\css\_schemes\Muse\_header.styl</span><br></pre></td></tr></table></figure>

<p>打开_header.styl，添加下述代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.header &#123;</span><br><span class="line">  background: url(&#x27;../images/background.jpg&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>保存，重新生成网页即可。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>git常用命令</title>
    <url>/blog/2021/12/01/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="git常用命令"><a href="#git常用命令" class="headerlink" title="git常用命令"></a>git常用命令</h1><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>配置用户名和邮箱</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>查看当前配置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git config --list</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>Win10添加右键在此处打开命令行</title>
    <url>/blog/2021/12/01/Win10%E6%B7%BB%E5%8A%A0%E5%8F%B3%E9%94%AE%E5%9C%A8%E6%AD%A4%E5%A4%84%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E8%A1%8C/</url>
    <content><![CDATA[<p>win10通过添加注册表项，实现右击<strong>“在此处打开命令行功能”</strong></p>
<h3 id="自动导入"><a href="#自动导入" class="headerlink" title="自动导入"></a>自动导入</h3><p>一键自动导入设置。将以下内容保存成reg文件，如a.reg，双击该文件自动导入设置。</p>
<span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\Open CMD Here]</span><br><span class="line">&quot;ShowBasedOnVelocityId&quot;=dword:00639bc8</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\Open CMD Here\command]</span><br><span class="line">@=&quot;cmd.exe /s /k pushd \&quot;%V\&quot;&quot;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>win10</category>
      </categories>
      <tags>
        <tag>win10</tag>
      </tags>
  </entry>
  <entry>
    <title>使用nvm管理nodejs版本</title>
    <url>/blog/2021/12/01/%E4%BD%BF%E7%94%A8nvm%E7%AE%A1%E7%90%86nodejs%E7%89%88%E6%9C%AC/</url>
    <content><![CDATA[<h2 id="使用nvm管理nodejs版本"><a href="#使用nvm管理nodejs版本" class="headerlink" title="使用nvm管理nodejs版本"></a>使用nvm管理nodejs版本</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>要用指令升级nodejs到新版本要先安装n模块</p>
<p>window用不了n模块  可以用 nvm-windows : <a href="https://github.com/coreybutler/nvm-windows%EF%BC%8C%E4%B8%8B%E8%BD%BDnvm-setup.zip%EF%BC%8C%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF%E3%80%82">https://github.com/coreybutler/nvm-windows，下载nvm-setup.zip，安装即可。</a></p>
<span id="more"></span>

<p>检查是否安装成功：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm ls</span><br></pre></td></tr></table></figure>

<p>如果你本机已经安装了nvm，那么执行这条命令时，会列出你本机安装过的所有nodejs版本。</p>
<h3 id="切换版本"><a href="#切换版本" class="headerlink" title="切换版本"></a>切换版本</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm use &lt;版本号&gt;</span><br></pre></td></tr></table></figure>

<p>但是版本切换的时候要注意，从高版本切换到低版本的话有可能会有些内容不能兼容，例如，async 和 await 语句在8.14.0版本之前是不支持的。</p>
<h3 id="安装新版本"><a href="#安装新版本" class="headerlink" title="安装新版本"></a>安装新版本</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nvm install &lt;版本号&gt;</span><br></pre></td></tr></table></figure>

<p>去nodejs官网上查到所有的版本，进入到nodejs 官网<a href="https://nodejs.org/en/download/%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF%E3%80%82">https://nodejs.org/en/download/，可以看到版本信息。</a></p>
<h3 id="nvm切换镜像源"><a href="#nvm切换镜像源" class="headerlink" title="nvm切换镜像源"></a>nvm切换镜像源</h3><p>找到nvm文件夹下settings.txt，修改成下面内容(下载源)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root: C:\nvm</span><br><span class="line">path: C:\nodejs</span><br><span class="line"></span><br><span class="line">#新增</span><br><span class="line"></span><br><span class="line">arch: 64 </span><br><span class="line">proxy: none </span><br><span class="line">node_mirror: http://npm.taobao.org/mirrors/node/ </span><br><span class="line">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>

<p>前面两行是安装的时候，自动生成的root: C:\nvm 对应你的安装位置,path: C:\nodejs 对应nodejs的位置。这两行不用改，然后保存完成。这样，就使用的淘宝的镜像下载node和npm了。</p>
]]></content>
      <categories>
        <category>nodejs</category>
      </categories>
      <tags>
        <tag>nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title>连接github失败</title>
    <url>/blog/2021/12/01/%E8%BF%9E%E6%8E%A5github%E5%A4%B1%E8%B4%A5/</url>
    <content><![CDATA[<h1 id="连接github失败"><a href="#连接github失败" class="headerlink" title="连接github失败"></a>连接github失败</h1><p>提交或clone代码时，偶尔会出现提交失败的情况，并提示：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">OpenSSL SSL_connect: SSL_ERROR_SYSCALL <span class="keyword">in</span> connection to github.com:443</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="原因："><a href="#原因：" class="headerlink" title="原因："></a>原因：</h2><p>是Git的Http代理的问题，Git支持三种协议：git://、ssh:// 和 http://，本来push的时候应该走ssh隧道的，但是因为设置了http代理，所以就走了http的代理，于是就提交不了了。</p>
<h2 id="解决方法1："><a href="#解决方法1：" class="headerlink" title="解决方法1："></a>解决方法1：</h2><ol>
<li><p>这种情况偶尔出现，可能时当时的网络问题，可以换个wifi或者热点，或者，过一会再试试（如果还不行，用方法2）。</p>
</li>
<li><p>既然是因为设置了http代理，那取消该设置即可。<br>使用以下命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="解决方法2："><a href="#解决方法2：" class="headerlink" title="解决方法2："></a>解决方法2：</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.sslVerify <span class="literal">false</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
</search>
